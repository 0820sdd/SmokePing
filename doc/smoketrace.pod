=head1 NAME

SmokeTrace - Ajax based Traceroute for Smokeping

=head1 DESCRIPTION

SmokeTraceoute is an browser based traceroute application written in the
Qooxdoo. You can easily activate it in your Smokeping setup, to allow
users to traceroute smokeping targets directly from the master host.

=head1 SETUP

To activate SmokeTrace you have to copy a few files to your webserver.

=over

=item 1.

Make sure your webserver can execute cgi files outside the cgi-bin
directory. Maybe it is enough to create a F<.htaccess> file with the
following contents into the smokeping web directory ($web).

 AddHandler cgi-script cgi
 Options ExecCGI

=item 2.

Copy C<htdocs/script/Tr.js> to your smokeping web directory (NOT the cgi-bin
directory!).

 mkdir $web/script
 cp $src/htdocs/script/Tr.js $web/script/

=item 2.

Copy C<htdocs/tr.html> to your smokeping web directory (NOT cgi-bin). Make
sure the path, pointing to C<Tr.js> is correct.

 cp $src/htdocs/tr.html $web/

=item 3.

Copy C<htdocs/resource> into the directory where you put C<tr.html>

 cp -r $src/htdocs/resource $web/ 

=item 4.

Copy F<htdocs/tr.cgi.dist> to the directory where you put C<tr.html>. Change
its name to C<tr.cgi>. Edit C<tr.cgi> to adjust the C<use lib> line, to
point to the smokeping perl library directory, as you did with
C<smokeping.cgi> and the smokeping daemon.
  
 cp $src/htdocs/tr.cgi.dist $web/tr.cgi 

=item 5.

Edit your config file and add the line:

 menuextra = <a target='_blank' href='tr.html{HOST}' class='{CLASS}' \
    onclick="window.open(this.href,this.target, \
    'width=800,height=500,toolbar=no,location=no,status=no,scrollbars=no'); \
    return false;">*</a>

to your C<*** Targets ***> section. It will make a C<*> appear next to each
host name, and when you click on it, the SmokeTrace window will open.

Note that the C<href> atribut must point to the directory where you put the
C<tr.html> file.

=back

Not you should be all set. Try calling C<tr.cgi> from your webbrowser. You
should get some error message about not having sent a JSON request.

=head1 COPYRIGHT

Copyright (c) 2008 by Tobias Oetiker. All rights reserverd.

=head1 LICENSE

This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
version 2 of the License, or (at your option) any later
version.

This program is distributed in the hope that it will be
useful, but WITHOUT ANY WARRANTY; without even the implied
warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE.  See the GNU General Public License for more
details.

You should have received a copy of the GNU General Public
License along with this program; if not, write to the Free
Software Foundation, Inc., 675 Mass Ave, Cambridge, MA
02139, USA.

=head1 AUTHOR

Tobi Oetiker  E<lt>tobi@oetiker.chE<gt>

=cut

